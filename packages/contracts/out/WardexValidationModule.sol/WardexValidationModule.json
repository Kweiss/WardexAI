{"abi":[{"type":"function","name":"accounts","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"evaluator","type":"address","internalType":"address"},{"name":"frozen","type":"bool","internalType":"bool"},{"name":"initialized","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"checkSpendingLimit","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"token","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"withinLimits","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"freeze","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getEvaluator","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"evaluator","type":"address","internalType":"address"},{"name":"ethMaxPerTx","type":"uint256","internalType":"uint256"},{"name":"ethMaxPerDay","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isFrozen","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isInitialized","inputs":[{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"setEvaluator","inputs":[{"name":"newEvaluator","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setSpendingLimit","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"maxPerTx","type":"uint256","internalType":"uint256"},{"name":"maxPerDay","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"spendingLimits","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"maxPerTx","type":"uint256","internalType":"uint256"},{"name":"maxPerDay","type":"uint256","internalType":"uint256"},{"name":"spentToday","type":"uint256","internalType":"uint256"},{"name":"lastResetDay","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unfreeze","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"validateUserOp","inputs":[{"name":"userOp","type":"tuple","internalType":"struct PackedUserOperation","components":[{"name":"sender","type":"address","internalType":"address"},{"name":"nonce","type":"uint256","internalType":"uint256"},{"name":"initCode","type":"bytes","internalType":"bytes"},{"name":"callData","type":"bytes","internalType":"bytes"},{"name":"accountGasLimits","type":"bytes32","internalType":"bytes32"},{"name":"preVerificationGas","type":"uint256","internalType":"uint256"},{"name":"gasFees","type":"bytes32","internalType":"bytes32"},{"name":"paymasterAndData","type":"bytes","internalType":"bytes"},{"name":"signature","type":"bytes","internalType":"bytes"}]},{"name":"userOpHash","type":"bytes32","internalType":"bytes32"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"validationData","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"event","name":"AccountFrozen","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"AccountUnfrozen","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"EvaluatorUpdated","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"evaluator","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SpendingLimitSet","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"maxPerTx","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"maxPerDay","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TransactionApproved","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"userOpHash","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"TransactionBlocked","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"userOpHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"reason","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"error","name":"AccountIsFrozen","inputs":[]},{"type":"error","name":"InvalidApprovalSignature","inputs":[]},{"type":"error","name":"InvalidEvaluator","inputs":[]},{"type":"error","name":"NotAccountOwner","inputs":[]},{"type":"error","name":"SpendingLimitExceeded","inputs":[{"name":"limitType","type":"string","internalType":"string"}]},{"type":"error","name":"ZeroAddress","inputs":[]}],"bytecode":{"object":"0x608060405234801561000f575f80fd5b50610e118061001d5f395ff3fe608060405234801561000f575f80fd5b50600436106100b1575f3560e01c80636a28f0001161006e5780636a28f000146101dd5780637a1ac61e146101e5578063c51e8e44146101f8578063d60b347f1461020b578063e58398361461023d578063f02926c71461026f575f80fd5b806302dbbbac146100b557806319822f7c146100ca57806340097416146100f057806340cc860b146101135780635e5c06e21461017057806362a5af3b146101d5575b5f80fd5b6100c86100c3366004610c0f565b6102b2565b005b6100dd6100d8366004610c28565b610369565b6040519081526020015b60405180910390f35b6101036100fe366004610c77565b6105e8565b60405190151581526020016100e7565b610150610121366004610cb0565b600160208181525f93845260408085209091529183529120805491810154600282015460039092015490919084565b6040805194855260208501939093529183015260608201526080016100e7565b6101ae61017e366004610c0f565b5f602081905290815260409020546001600160a01b0381169060ff600160a01b8204811691600160a81b90041683565b604080516001600160a01b03909416845291151560208401521515908201526060016100e7565b6100c8610693565b6100c8610714565b6100c86101f3366004610ce1565b61078f565b6100c8610206366004610ce1565b610937565b610103610219366004610c0f565b6001600160a01b03165f90815260208190526040902054600160a81b900460ff1690565b61010361024b366004610c0f565b6001600160a01b03165f90815260208190526040902054600160a01b900460ff1690565b61029a61027d366004610c0f565b6001600160a01b039081165f908152602081905260409020541690565b6040516001600160a01b0390911681526020016100e7565b335f90815260208190526040812054600160a81b900460ff16151590036102ec5760405163fcfdb9b560e01b815260040160405180910390fd5b6001600160a01b0381166103135760405163d92e233d60e01b815260040160405180910390fd5b335f8181526020819052604080822080546001600160a01b0319166001600160a01b03861690811790915590519092917f251ea37dea2bc12d4a4f4db92f8d7ea37e18a2e9bc65531e97a4990a091be41c91a350565b5f80808061037a6020880188610c0f565b6001600160a01b0316815260208101919091526040015f208054909150600160a01b900460ff161561042257836103b46020870187610c0f565b6001600160a01b03167f1a11608e6fbbeff096947d8279b2af70521647bd84cccbe40c5cae40048a60356040516104109060208082526011908201527020b1b1b7bab73a1034b990333937bd32b760791b604082015260600190565b60405180910390a360019150506105e1565b610445610433610100870187610cfc565b835487906001600160a01b0316610a20565b6104bf57836104576020870187610c0f565b6001600160a01b03167f1a11608e6fbbeff096947d8279b2af70521647bd84cccbe40c5cae40048a60356040516104109060208082526017908201527f496e76616c69642057617264657820617070726f76616c000000000000000000604082015260600190565b5f6104d56104d06060880188610cfc565b610b26565b90508015610598576104f46104ed6020880188610c0f565b5f836105e8565b61058157846105066020880188610c0f565b6001600160a01b03167f1a11608e6fbbeff096947d8279b2af70521647bd84cccbe40c5cae40048a603560405161056e9060208082526017908201527f5370656e64696e67206c696d6974206578636565646564000000000000000000604082015260600190565b60405180910390a36001925050506105e1565b6105986105916020880188610c0f565b5f83610b7f565b846105a66020880188610c0f565b6001600160a01b03167f7115b98931e7aca6d0aa11d10fe28877316a661a44c4bfc93c76b19dbbf5b10760405160405180910390a35f925050505b9392505050565b6001600160a01b038084165f9081526001602090815260408083209386168352929052908120805415801561061f57506001810154155b1561062e5760019150506105e1565b8054831115610640575f9150506105e1565b5f61064e6201518042610d46565b600283015460038401549192509082111561066657505f5b60018301546106758683610d65565b1115610686575f93505050506105e1565b5060019695505050505050565b335f90815260208190526040812054600160a81b900460ff16151590036106cd5760405163fcfdb9b560e01b815260040160405180910390fd5b335f81815260208190526040808220805460ff60a01b1916600160a01b179055517f4f2a367e694e71282f29ab5eaa04c4c0be45ac5bf2ca74fb67068b98bdc2887d9190a2565b335f90815260208190526040812054600160a81b900460ff161515900361074e5760405163fcfdb9b560e01b815260040160405180910390fd5b335f81815260208190526040808220805460ff60a01b19169055517ff915cd9fe234de6e8d3afe7bf2388d35b2b6d48e8c629a24602019bde79c213a9190a2565b6001600160a01b0383166107b65760405163d92e233d60e01b815260040160405180910390fd5b335f90815260208190526040902054600160a81b900460ff16156107ed5760405163fcfdb9b560e01b815260040160405180910390fd5b60408051606080820183526001600160a01b0380871683525f6020808501828152600186880190815233845283835287842096518754925191511515600160a81b0260ff60a81b19921515600160a01b026001600160a81b0319909416919096161791909117169290921790935583516080810185528681529081018590529283019190915281016108826201518042610d46565b9052335f818152600160208181526040808420848052825280842086518155918601519282019290925584820151600282015560609094015160039094019390935591516001600160a01b038616927f251ea37dea2bc12d4a4f4db92f8d7ea37e18a2e9bc65531e97a4990a091be41c91a360408051838152602081018390525f9133917f33b7e2f21b9f1f683df3ced12dbc0954e9cb76bd5a9950f4bfb040595e7b4b4791015b60405180910390a3505050565b335f90815260208190526040812054600160a81b900460ff16151590036109715760405163fcfdb9b560e01b815260040160405180910390fd5b60405180608001604052808381526020018281526020015f8152602001620151804261099d9190610d46565b9052335f8181526001602081815260408084206001600160a01b038a1680865290835293819020865181558683015193810193909355858101516002840155606090950151600390920191909155835186815290810185905290927f33b7e2f21b9f1f683df3ced12dbc0954e9cb76bd5a9950f4bfb040595e7b4b47910161092a565b5f60418414610a3057505f610b1e565b604080517f19457468657265756d205369676e6564204d6573736167653a0a333200000000602080830191909152603c82018690528735929088013591908801355f90811a91605c0160408051601f1981840301815282825280516020918201205f80855291840180845281905260ff86169284019290925260608301879052608083018690529092509060019060a0016020604051602081039080840390855afa158015610ae1573d5f803e3d5ffd5b505050602060405103519050866001600160a01b0316816001600160a01b0316148015610b1657506001600160a01b03811615155b955050505050505b949350505050565b5f6044821015610b3757505f610b79565b5f610b456004828587610d84565b610b4e91610dab565b90506001600160e01b03198116635b0e93fb60e11b14610b71575f915050610b79565b505060248201355b92915050565b6001600160a01b038084165f908152600160209081526040808320938616835292905290812090610bb36201518042610d46565b90508160030154811115610bd4576002820183905560038201819055610bed565b82826002015f828254610be79190610d65565b90915550505b5050505050565b80356001600160a01b0381168114610c0a575f80fd5b919050565b5f60208284031215610c1f575f80fd5b6105e182610bf4565b5f805f60608486031215610c3a575f80fd5b833567ffffffffffffffff811115610c50575f80fd5b84016101208187031215610c62575f80fd5b95602085013595506040909401359392505050565b5f805f60608486031215610c89575f80fd5b610c9284610bf4565b9250610ca060208501610bf4565b9150604084013590509250925092565b5f8060408385031215610cc1575f80fd5b610cca83610bf4565b9150610cd860208401610bf4565b90509250929050565b5f805f60608486031215610cf3575f80fd5b610c6284610bf4565b5f808335601e19843603018112610d11575f80fd5b83018035915067ffffffffffffffff821115610d2b575f80fd5b602001915036819003821315610d3f575f80fd5b9250929050565b5f82610d6057634e487b7160e01b5f52601260045260245ffd5b500490565b80820180821115610b7957634e487b7160e01b5f52601160045260245ffd5b5f8085851115610d92575f80fd5b83861115610d9e575f80fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015610dd35780818660040360031b1b83161692505b50509291505056fea26469706673582212206915c5115537fef77bbdca9fb54fe378517f98106fd37e7de865d5ef3cbb44df64736f6c63430008180033","sourceMap":"1439:13181:19:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b50600436106100b1575f3560e01c80636a28f0001161006e5780636a28f000146101dd5780637a1ac61e146101e5578063c51e8e44146101f8578063d60b347f1461020b578063e58398361461023d578063f02926c71461026f575f80fd5b806302dbbbac146100b557806319822f7c146100ca57806340097416146100f057806340cc860b146101135780635e5c06e21461017057806362a5af3b146101d5575b5f80fd5b6100c86100c3366004610c0f565b6102b2565b005b6100dd6100d8366004610c28565b610369565b6040519081526020015b60405180910390f35b6101036100fe366004610c77565b6105e8565b60405190151581526020016100e7565b610150610121366004610cb0565b600160208181525f93845260408085209091529183529120805491810154600282015460039092015490919084565b6040805194855260208501939093529183015260608201526080016100e7565b6101ae61017e366004610c0f565b5f602081905290815260409020546001600160a01b0381169060ff600160a01b8204811691600160a81b90041683565b604080516001600160a01b03909416845291151560208401521515908201526060016100e7565b6100c8610693565b6100c8610714565b6100c86101f3366004610ce1565b61078f565b6100c8610206366004610ce1565b610937565b610103610219366004610c0f565b6001600160a01b03165f90815260208190526040902054600160a81b900460ff1690565b61010361024b366004610c0f565b6001600160a01b03165f90815260208190526040902054600160a01b900460ff1690565b61029a61027d366004610c0f565b6001600160a01b039081165f908152602081905260409020541690565b6040516001600160a01b0390911681526020016100e7565b335f90815260208190526040812054600160a81b900460ff16151590036102ec5760405163fcfdb9b560e01b815260040160405180910390fd5b6001600160a01b0381166103135760405163d92e233d60e01b815260040160405180910390fd5b335f8181526020819052604080822080546001600160a01b0319166001600160a01b03861690811790915590519092917f251ea37dea2bc12d4a4f4db92f8d7ea37e18a2e9bc65531e97a4990a091be41c91a350565b5f80808061037a6020880188610c0f565b6001600160a01b0316815260208101919091526040015f208054909150600160a01b900460ff161561042257836103b46020870187610c0f565b6001600160a01b03167f1a11608e6fbbeff096947d8279b2af70521647bd84cccbe40c5cae40048a60356040516104109060208082526011908201527020b1b1b7bab73a1034b990333937bd32b760791b604082015260600190565b60405180910390a360019150506105e1565b610445610433610100870187610cfc565b835487906001600160a01b0316610a20565b6104bf57836104576020870187610c0f565b6001600160a01b03167f1a11608e6fbbeff096947d8279b2af70521647bd84cccbe40c5cae40048a60356040516104109060208082526017908201527f496e76616c69642057617264657820617070726f76616c000000000000000000604082015260600190565b5f6104d56104d06060880188610cfc565b610b26565b90508015610598576104f46104ed6020880188610c0f565b5f836105e8565b61058157846105066020880188610c0f565b6001600160a01b03167f1a11608e6fbbeff096947d8279b2af70521647bd84cccbe40c5cae40048a603560405161056e9060208082526017908201527f5370656e64696e67206c696d6974206578636565646564000000000000000000604082015260600190565b60405180910390a36001925050506105e1565b6105986105916020880188610c0f565b5f83610b7f565b846105a66020880188610c0f565b6001600160a01b03167f7115b98931e7aca6d0aa11d10fe28877316a661a44c4bfc93c76b19dbbf5b10760405160405180910390a35f925050505b9392505050565b6001600160a01b038084165f9081526001602090815260408083209386168352929052908120805415801561061f57506001810154155b1561062e5760019150506105e1565b8054831115610640575f9150506105e1565b5f61064e6201518042610d46565b600283015460038401549192509082111561066657505f5b60018301546106758683610d65565b1115610686575f93505050506105e1565b5060019695505050505050565b335f90815260208190526040812054600160a81b900460ff16151590036106cd5760405163fcfdb9b560e01b815260040160405180910390fd5b335f81815260208190526040808220805460ff60a01b1916600160a01b179055517f4f2a367e694e71282f29ab5eaa04c4c0be45ac5bf2ca74fb67068b98bdc2887d9190a2565b335f90815260208190526040812054600160a81b900460ff161515900361074e5760405163fcfdb9b560e01b815260040160405180910390fd5b335f81815260208190526040808220805460ff60a01b19169055517ff915cd9fe234de6e8d3afe7bf2388d35b2b6d48e8c629a24602019bde79c213a9190a2565b6001600160a01b0383166107b65760405163d92e233d60e01b815260040160405180910390fd5b335f90815260208190526040902054600160a81b900460ff16156107ed5760405163fcfdb9b560e01b815260040160405180910390fd5b60408051606080820183526001600160a01b0380871683525f6020808501828152600186880190815233845283835287842096518754925191511515600160a81b0260ff60a81b19921515600160a01b026001600160a81b0319909416919096161791909117169290921790935583516080810185528681529081018590529283019190915281016108826201518042610d46565b9052335f818152600160208181526040808420848052825280842086518155918601519282019290925584820151600282015560609094015160039094019390935591516001600160a01b038616927f251ea37dea2bc12d4a4f4db92f8d7ea37e18a2e9bc65531e97a4990a091be41c91a360408051838152602081018390525f9133917f33b7e2f21b9f1f683df3ced12dbc0954e9cb76bd5a9950f4bfb040595e7b4b4791015b60405180910390a3505050565b335f90815260208190526040812054600160a81b900460ff16151590036109715760405163fcfdb9b560e01b815260040160405180910390fd5b60405180608001604052808381526020018281526020015f8152602001620151804261099d9190610d46565b9052335f8181526001602081815260408084206001600160a01b038a1680865290835293819020865181558683015193810193909355858101516002840155606090950151600390920191909155835186815290810185905290927f33b7e2f21b9f1f683df3ced12dbc0954e9cb76bd5a9950f4bfb040595e7b4b47910161092a565b5f60418414610a3057505f610b1e565b604080517f19457468657265756d205369676e6564204d6573736167653a0a333200000000602080830191909152603c82018690528735929088013591908801355f90811a91605c0160408051601f1981840301815282825280516020918201205f80855291840180845281905260ff86169284019290925260608301879052608083018690529092509060019060a0016020604051602081039080840390855afa158015610ae1573d5f803e3d5ffd5b505050602060405103519050866001600160a01b0316816001600160a01b0316148015610b1657506001600160a01b03811615155b955050505050505b949350505050565b5f6044821015610b3757505f610b79565b5f610b456004828587610d84565b610b4e91610dab565b90506001600160e01b03198116635b0e93fb60e11b14610b71575f915050610b79565b505060248201355b92915050565b6001600160a01b038084165f908152600160209081526040808320938616835292905290812090610bb36201518042610d46565b90508160030154811115610bd4576002820183905560038201819055610bed565b82826002015f828254610be79190610d65565b90915550505b5050505050565b80356001600160a01b0381168114610c0a575f80fd5b919050565b5f60208284031215610c1f575f80fd5b6105e182610bf4565b5f805f60608486031215610c3a575f80fd5b833567ffffffffffffffff811115610c50575f80fd5b84016101208187031215610c62575f80fd5b95602085013595506040909401359392505050565b5f805f60608486031215610c89575f80fd5b610c9284610bf4565b9250610ca060208501610bf4565b9150604084013590509250925092565b5f8060408385031215610cc1575f80fd5b610cca83610bf4565b9150610cd860208401610bf4565b90509250929050565b5f805f60608486031215610cf3575f80fd5b610c6284610bf4565b5f808335601e19843603018112610d11575f80fd5b83018035915067ffffffffffffffff821115610d2b575f80fd5b602001915036819003821315610d3f575f80fd5b9250929050565b5f82610d6057634e487b7160e01b5f52601260045260245ffd5b500490565b80820180821115610b7957634e487b7160e01b5f52601160045260245ffd5b5f8085851115610d92575f80fd5b83861115610d9e575f80fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015610dd35780818660040360031b1b83161692505b50509291505056fea26469706673582212206915c5115537fef77bbdca9fb54fe378517f98106fd37e7de865d5ef3cbb44df64736f6c63430008180033","sourceMap":"1439:13181:19:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;11254:246;;;;;;:::i;:::-;;:::i;:::-;;5913:2003;;;;;;:::i;:::-;;:::i;:::-;;;1070:25:21;;;1058:2;1043:18;5913:2003:19;;;;;;;;9035:822;;;;;;:::i;:::-;;:::i;:::-;;;1604:14:21;;1597:22;1579:41;;1567:2;1552:18;9035:822:19;1439:187:21;3591:75:19;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2127:25:21;;;2183:2;2168:18;;2161:34;;;;2211:18;;;2204:34;2269:2;2254:18;;2247:34;2114:3;2099:19;3591:75:19;1896:391:21;3462:49:19;;;;;;:::i;:::-;;;;;;;;;;;;;-1:-1:-1;;;;;3462:49:19;;;;-1:-1:-1;;;3462:49:19;;;;;-1:-1:-1;;;3462:49:19;;;;;;;;;-1:-1:-1;;;;;2500:32:21;;;2482:51;;2576:14;;2569:22;2564:2;2549:18;;2542:50;2635:14;2628:22;2608:18;;;2601:50;2470:2;2455:18;3462:49:19;2292:365:21;10780:130:19;;;:::i;10996:135::-;;;:::i;4432:818::-;;;;;;:::i;:::-;;:::i;8319:424::-;;;;;;:::i;:::-;;:::i;14115:122::-;;;;;;:::i;:::-;-1:-1:-1;;;;;14201:17:19;14178:4;14201:17;;;;;;;;;;:29;-1:-1:-1;;;14201:29:19;;;;;14115:122;14305:112;;;;;;:::i;:::-;-1:-1:-1;;;;;14386:17:19;14363:4;14386:17;;;;;;;;;;:24;-1:-1:-1;;;14386:24:19;;;;;14305:112;14496:122;;;;;;:::i;:::-;-1:-1:-1;;;;;14584:17:19;;;14558:7;14584:17;;;;;;;;;;:27;;;14496:122;;;;-1:-1:-1;;;;;3153:32:21;;;3135:51;;3123:2;3108:18;14496:122:19;2989:203:21;11254:246:19;3895:10;3886:8;:20;;;;;;;;;;:32;-1:-1:-1;;;3886:32:19;;;;:41;;;;3882:71;;3936:17;;-1:-1:-1;;;3936:17:19;;;;;;;;;;;3882:71;-1:-1:-1;;;;;11333:26:19;::::1;11329:52;;11368:13;;-1:-1:-1::0;;;11368:13:19::1;;;;;;;;;;;11329:52;11400:10;11391:8;:20:::0;;;::::1;::::0;;;;;;;:45;;-1:-1:-1;;;;;;11391:45:19::1;-1:-1:-1::0;;;;;11391:45:19;::::1;::::0;;::::1;::::0;;;11451:42;;11391:45;;11400:10;11451:42:::1;::::0;::::1;11254:246:::0;:::o;5913:2003::-;6086:22;;;;6160:13;;;;:6;:13;:::i;:::-;-1:-1:-1;;;;;6151:23:19;;;;;;;;;;;;-1:-1:-1;6151:23:19;6223:13;;6151:23;;-1:-1:-1;;;;6223:13:19;;;;6219:148;;;6291:10;6276:13;;;;:6;:13;:::i;:::-;-1:-1:-1;;;;;6257:66:19;;;;;;3399:2:21;3381:21;;;3438:2;3418:18;;;3411:30;-1:-1:-1;;;3472:2:21;3457:18;;3450:47;3529:2;3514:18;;3197:341;6257:66:19;;;;;;;;6344:1;6337:8;;;;;6219:148;6521:63;6537:16;;;;:6;:16;:::i;:::-;6567;;6555:10;;-1:-1:-1;;;;;6567:16:19;6521:15;:63::i;:::-;6516:205;;6639:10;6624:13;;;;:6;:13;:::i;:::-;-1:-1:-1;;;;;6605:72:19;;;;;;4271:2:21;4253:21;;;4310:2;4290:18;;;4283:30;4349:25;4344:2;4329:18;;4322:53;4407:2;4392:18;;4069:347;6516:205:19;7179:22;7204:37;7225:15;;;;:6;:15;:::i;:::-;7204:20;:37::i;:::-;7179:62;-1:-1:-1;7255:18:19;;7251:570;;7294:61;7313:13;;;;:6;:13;:::i;:::-;7336:1;7340:14;7294:18;:61::i;:::-;7289:215;;7414:10;7399:13;;;;:6;:13;:::i;:::-;-1:-1:-1;;;;;7380:72:19;;;;;;4623:2:21;4605:21;;;4662:2;4642:18;;;4635:30;4701:25;4696:2;4681:18;;4674:53;4759:2;4744:18;;4421:347;7380:72:19;;;;;;;;7477:1;7470:8;;;;;;7289:215;7752:58;7768:13;;;;:6;:13;:::i;:::-;7791:1;7795:14;7752:15;:58::i;:::-;7871:10;7856:13;;;;:6;:13;:::i;:::-;-1:-1:-1;;;;;7836:46:19;;;;;;;;;;;7899:1;7892:8;;;;5913:2003;;;;;;:::o;9035:822::-;-1:-1:-1;;;;;9221:23:19;;;9162:17;9221:23;;;:14;:23;;;;;;;;:30;;;;;;;;;;;9266:14;;:19;:43;;;;-1:-1:-1;9289:15:19;;;;:20;9266:43;9262:102;;;9332:4;9325:11;;;;;9262:102;9426:14;;9417:23;;9413:66;;;9463:5;9456:12;;;;;9413:66;9535:18;9556:24;9574:6;9556:15;:24;:::i;:::-;9611:16;;;;9654:18;;;;9535:45;;-1:-1:-1;9611:16:19;9641:31;;9637:102;;;-1:-1:-1;9701:1:19;9637:102;9775:15;;;;9753:19;9766:6;9753:10;:19;:::i;:::-;:37;9749:80;;;9813:5;9806:12;;;;;;;9749:80;-1:-1:-1;9846:4:19;;9035:822;-1:-1:-1;;;;;;9035:822:19:o;10780:130::-;3895:10;3886:8;:20;;;;;;;;;;:32;-1:-1:-1;;;3886:32:19;;;;:41;;;;3882:71;;3936:17;;-1:-1:-1;;;3936:17:19;;;;;;;;;;;3882:71;10838:10:::1;10829:8;:20:::0;;;::::1;::::0;;;;;;;:34;;-1:-1:-1;;;;10829:34:19::1;-1:-1:-1::0;;;10829:34:19::1;::::0;;10878:25;::::1;::::0;10829:8;10878:25:::1;10780:130::o:0;10996:135::-;3895:10;3886:8;:20;;;;;;;;;;:32;-1:-1:-1;;;3886:32:19;;;;:41;;;;3882:71;;3936:17;;-1:-1:-1;;;3936:17:19;;;;;;;;;;;3882:71;11056:10:::1;11077:5;11047:20:::0;;;::::1;::::0;;;;;;;:35;;-1:-1:-1;;;;11047:35:19::1;::::0;;11097:27;::::1;::::0;11077:5;11097:27:::1;10996:135::o:0;4432:818::-;-1:-1:-1;;;;;4567:23:19;;4563:49;;4599:13;;-1:-1:-1;;;4599:13:19;;;;;;;;;;;4563:49;4635:10;4626:8;:20;;;;;;;;;;:32;-1:-1:-1;;;4626:32:19;;;;4622:62;;;4667:17;;-1:-1:-1;;;4667:17:19;;;;;;;;;;;4622:62;4718:117;;;;;;;;;-1:-1:-1;;;;;4718:117:19;;;;;-1:-1:-1;4718:117:19;;;;;;;;;;;;;;4704:10;4695:20;;;;;;;;:140;;;;;;;;;;-1:-1:-1;;;4695:140:19;-1:-1:-1;;;;4695:140:19;;;-1:-1:-1;;;4695:140:19;-1:-1:-1;;;;;;4695:140:19;;;;;;;;;;;;;;;;;;;;4930:176;;;;;;;;;;;;;;;;;;;;;;;;;5071:24;5089:6;5071:15;:24;:::i;:::-;4930:176;;4904:10;4889:26;;;;:14;:26;;;;;;;;:38;;;;;;;;:217;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5122:39;;-1:-1:-1;;;;;5122:39:19;;;;;;5176:67;;;5396:25:21;;;5452:2;5437:18;;5430:34;;;5213:1:19;;5193:10;;5176:67;;5369:18:21;5176:67:19;;;;;;;;4432:818;;;:::o;8319:424::-;3895:10;3886:8;:20;;;;;;;;;;:32;-1:-1:-1;;;3886:32:19;;;;:41;;;;3882:71;;3936:17;;-1:-1:-1;;;3936:17:19;;;;;;;;;;;3882:71;8494:170:::1;;;;;;;;8532:8;8494:170;;;;8565:9;8494:170;;;;8600:1;8494:170;;;;8647:6;8629:15;:24;;;;:::i;:::-;8494:170:::0;;8473:10:::1;8458:26;::::0;;;:14:::1;:26;::::0;;;;;;;-1:-1:-1;;;;;8458:33:19;::::1;::::0;;;;;;;;;;:206;;;;;;::::1;::::0;;;::::1;::::0;;;;;;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;;::::1;::::0;::::1;::::0;;::::1;::::0;;;;8680:56;;5396:25:21;;;5437:18;;;5430:34;;;8458:33:19;;8680:56:::1;::::0;5369:18:21;8680:56:19::1;5222:248:21::0;11985:750:19;12122:10;12168:2;12148:22;;12144:40;;-1:-1:-1;12179:5:19;12172:12;;12144:40;12427:2;12531:58;;5717:66:21;12362:2:19;12531:58;;;5705:79:21;;;;5800:12;;;5793:28;;;12279:30:19;;;12340:25;;;12327:39;;12405:25;;;12392:39;12195:9;12384:48;;;;5837:12:21;;12531:58:19;;;-1:-1:-1;;12531:58:19;;;;;;;;;12508:91;;12531:58;12508:91;;;;12610:17;12630:32;;;;;;;;;6087:25:21;;;6160:4;6148:17;;6128:18;;;6121:45;;;;6182:18;;;6175:34;;;6225:18;;;6218:34;;;12508:91:19;;-1:-1:-1;12610:17:19;12630:32;;6059:19:21;;12630:32:19;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;12610:52;;12692:9;-1:-1:-1;;;;;12679:22:19;:9;-1:-1:-1;;;;;12679:22:19;;:49;;;;-1:-1:-1;;;;;;12705:23:19;;;;12679:49;12672:56;;;;;;;11985:750;;;;;;;:::o;13247:602::-;13325:7;13445:2;13427:20;;13423:34;;;-1:-1:-1;13456:1:19;13449:8;;13423:34;13541:15;13566:12;13576:1;13541:15;13566:8;;:12;:::i;:::-;13559:20;;;:::i;:::-;13541:38;-1:-1:-1;;;;;;;13593:30:19;;-1:-1:-1;;;13593:30:19;13589:44;;13632:1;13625:8;;;;;13589:44;-1:-1:-1;;13807:2:19;13786:24;;13773:38;13247:602;;;;;:::o;9991:443::-;-1:-1:-1;;;;;10143:23:19;;;10113:27;10143:23;;;:14;:23;;;;;;;;:30;;;;;;;;;;;;10204:24;10222:6;10204:15;:24;:::i;:::-;10183:45;;10256:5;:18;;;10243:10;:31;10239:189;;;10290:16;;;:25;;;10329:18;;;:31;;;10239:189;;;10411:6;10391:5;:16;;;:26;;;;;;;:::i;:::-;;;;-1:-1:-1;;10239:189:19;10103:331;;9991:443;;;:::o;14:173:21:-;82:20;;-1:-1:-1;;;;;131:31:21;;121:42;;111:70;;177:1;174;167:12;111:70;14:173;;;:::o;192:186::-;251:6;304:2;292:9;283:7;279:23;275:32;272:52;;;320:1;317;310:12;272:52;343:29;362:9;343:29;:::i;383:536::-;500:6;508;516;569:2;557:9;548:7;544:23;540:32;537:52;;;585:1;582;575:12;537:52;625:9;612:23;658:18;650:6;647:30;644:50;;;690:1;687;680:12;644:50;713:22;;769:3;751:16;;;747:26;744:46;;;786:1;783;776:12;744:46;809:2;858;843:18;;830:32;;-1:-1:-1;909:2:21;894:18;;;881:32;;383:536;-1:-1:-1;;;383:536:21:o;1106:328::-;1183:6;1191;1199;1252:2;1240:9;1231:7;1227:23;1223:32;1220:52;;;1268:1;1265;1258:12;1220:52;1291:29;1310:9;1291:29;:::i;:::-;1281:39;;1339:38;1373:2;1362:9;1358:18;1339:38;:::i;:::-;1329:48;;1424:2;1413:9;1409:18;1396:32;1386:42;;1106:328;;;;;:::o;1631:260::-;1699:6;1707;1760:2;1748:9;1739:7;1735:23;1731:32;1728:52;;;1776:1;1773;1766:12;1728:52;1799:29;1818:9;1799:29;:::i;:::-;1789:39;;1847:38;1881:2;1870:9;1866:18;1847:38;:::i;:::-;1837:48;;1631:260;;;;;:::o;2662:322::-;2739:6;2747;2755;2808:2;2796:9;2787:7;2783:23;2779:32;2776:52;;;2824:1;2821;2814:12;2776:52;2847:29;2866:9;2847:29;:::i;3543:521::-;3620:4;3626:6;3686:11;3673:25;3780:2;3776:7;3765:8;3749:14;3745:29;3741:43;3721:18;3717:68;3707:96;;3799:1;3796;3789:12;3707:96;3826:33;;3878:20;;;-1:-1:-1;3921:18:21;3910:30;;3907:50;;;3953:1;3950;3943:12;3907:50;3986:4;3974:17;;-1:-1:-1;4017:14:21;4013:27;;;4003:38;;4000:58;;;4054:1;4051;4044:12;4000:58;3543:521;;;;;:::o;4773:217::-;4813:1;4839;4829:132;;4883:10;4878:3;4874:20;4871:1;4864:31;4918:4;4915:1;4908:15;4946:4;4943:1;4936:15;4829:132;-1:-1:-1;4975:9:21;;4773:217::o;4995:222::-;5060:9;;;5081:10;;;5078:133;;;5133:10;5128:3;5124:20;5121:1;5114:31;5168:4;5165:1;5158:15;5196:4;5193:1;5186:15;6263:331;6368:9;6379;6421:8;6409:10;6406:24;6403:44;;;6443:1;6440;6433:12;6403:44;6472:6;6462:8;6459:20;6456:40;;;6492:1;6489;6482:12;6456:40;-1:-1:-1;;6518:23:21;;;6563:25;;;;;-1:-1:-1;6263:331:21:o;6599:323::-;-1:-1:-1;;;;;;6719:19:21;;6795:11;;;;6826:1;6818:10;;6815:101;;;6903:2;6897;6890:3;6887:1;6883:11;6880:1;6876:19;6872:28;6868:2;6864:37;6860:46;6851:55;;6815:101;;;6599:323;;;;:::o","linkReferences":{}},"methodIdentifiers":{"accounts(address)":"5e5c06e2","checkSpendingLimit(address,address,uint256)":"40097416","freeze()":"62a5af3b","getEvaluator(address)":"f02926c7","initialize(address,uint256,uint256)":"7a1ac61e","isFrozen(address)":"e5839836","isInitialized(address)":"d60b347f","setEvaluator(address)":"02dbbbac","setSpendingLimit(address,uint256,uint256)":"c51e8e44","spendingLimits(address,address)":"40cc860b","unfreeze()":"6a28f000","validateUserOp((address,uint256,bytes,bytes,bytes32,uint256,bytes32,bytes,bytes),bytes32,uint256)":"19822f7c"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"AccountIsFrozen\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidApprovalSignature\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidEvaluator\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotAccountOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"limitType\",\"type\":\"string\"}],\"name\":\"SpendingLimitExceeded\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AccountFrozen\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AccountUnfrozen\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"evaluator\",\"type\":\"address\"}],\"name\":\"EvaluatorUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maxPerTx\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maxPerDay\",\"type\":\"uint256\"}],\"name\":\"SpendingLimitSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"userOpHash\",\"type\":\"bytes32\"}],\"name\":\"TransactionApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"userOpHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"TransactionBlocked\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"accounts\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"evaluator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"frozen\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"initialized\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"checkSpendingLimit\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"withinLimits\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"freeze\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getEvaluator\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"evaluator\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"ethMaxPerTx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"ethMaxPerDay\",\"type\":\"uint256\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isFrozen\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"isInitialized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newEvaluator\",\"type\":\"address\"}],\"name\":\"setEvaluator\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"maxPerTx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPerDay\",\"type\":\"uint256\"}],\"name\":\"setSpendingLimit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"spendingLimits\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"maxPerTx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPerDay\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"spentToday\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastResetDay\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unfreeze\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"initCode\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"callData\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"accountGasLimits\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"preVerificationGas\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"gasFees\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"paymasterAndData\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"internalType\":\"struct PackedUserOperation\",\"name\":\"userOp\",\"type\":\"tuple\"},{\"internalType\":\"bytes32\",\"name\":\"userOpHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"validateUserOp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"validationData\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"checkSpendingLimit(address,address,uint256)\":{\"params\":{\"account\":\"The smart account\",\"amount\":\"Transaction amount\",\"token\":\"Token address (address(0) for ETH)\"},\"returns\":{\"withinLimits\":\"Whether the amount is within limits\"}},\"freeze()\":{\"details\":\"Can only be called by the account itself (via a previous UserOp).\"},\"initialize(address,uint256,uint256)\":{\"params\":{\"ethMaxPerDay\":\"Maximum ETH per day (wei)\",\"ethMaxPerTx\":\"Maximum ETH per transaction (wei)\",\"evaluator\":\"Address of the Wardex evaluator (signs approval tokens)\"}},\"setEvaluator(address)\":{\"params\":{\"newEvaluator\":\"New evaluator address\"}},\"setSpendingLimit(address,uint256,uint256)\":{\"params\":{\"maxPerDay\":\"Maximum per day\",\"maxPerTx\":\"Maximum per transaction\",\"token\":\"Token address (address(0) for ETH)\"}},\"validateUserOp((address,uint256,bytes,bytes,bytes32,uint256,bytes32,bytes,bytes),bytes32,uint256)\":{\"details\":\"Checks:      1. Account is not frozen      2. UserOp signature contains a valid Wardex approval      3. Transaction value is within spending limits\",\"params\":{\"userOp\":\"The UserOperation to validate\",\"userOpHash\":\"Hash of the UserOperation (for signature verification)\"},\"returns\":{\"validationData\":\"0 if valid, 1 if invalid (per ERC-4337 spec)\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"accounts(address)\":{\"notice\":\"Configuration per smart account\"},\"checkSpendingLimit(address,address,uint256)\":{\"notice\":\"Check if a transaction value is within spending limits.\"},\"freeze()\":{\"notice\":\"Freeze the account - blocks ALL transactions.\"},\"getEvaluator(address)\":{\"notice\":\"Get the evaluator address for an account.\"},\"initialize(address,uint256,uint256)\":{\"notice\":\"Initialize Wardex protection for a smart account.\"},\"isFrozen(address)\":{\"notice\":\"Check if an account is frozen.\"},\"isInitialized(address)\":{\"notice\":\"Check if an account is initialized with Wardex.\"},\"setEvaluator(address)\":{\"notice\":\"Update the Wardex evaluator address.\"},\"setSpendingLimit(address,uint256,uint256)\":{\"notice\":\"Set spending limits for a specific token.\"},\"spendingLimits(address,address)\":{\"notice\":\"Spending limits per account per token (address(0) = ETH)\"},\"unfreeze()\":{\"notice\":\"Unfreeze the account - resumes normal operation.\"},\"validateUserOp((address,uint256,bytes,bytes,bytes32,uint256,bytes32,bytes,bytes),bytes32,uint256)\":{\"notice\":\"Validates a UserOperation for the EntryPoint.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/WardexValidationModule.sol\":\"WardexValidationModule\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"src/WardexValidationModule.sol\":{\"keccak256\":\"0xfa6259bcf97a6c858bfa8e5390d9de9e96418fd04f57fe0549e162b65276afcd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://730bcf793bf8c3d7285446dcddd17e1c9f558cd724755eceecfe2fccdec0b49d\",\"dweb:/ipfs/QmPA6skM7LFgiG5bz4aqzg4GY5gDsqWFDrU8WF1YJAjUyw\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"AccountIsFrozen"},{"inputs":[],"type":"error","name":"InvalidApprovalSignature"},{"inputs":[],"type":"error","name":"InvalidEvaluator"},{"inputs":[],"type":"error","name":"NotAccountOwner"},{"inputs":[{"internalType":"string","name":"limitType","type":"string"}],"type":"error","name":"SpendingLimitExceeded"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true}],"type":"event","name":"AccountFrozen","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true}],"type":"event","name":"AccountUnfrozen","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"evaluator","type":"address","indexed":true}],"type":"event","name":"EvaluatorUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"token","type":"address","indexed":true},{"internalType":"uint256","name":"maxPerTx","type":"uint256","indexed":false},{"internalType":"uint256","name":"maxPerDay","type":"uint256","indexed":false}],"type":"event","name":"SpendingLimitSet","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"bytes32","name":"userOpHash","type":"bytes32","indexed":true}],"type":"event","name":"TransactionApproved","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"bytes32","name":"userOpHash","type":"bytes32","indexed":true},{"internalType":"string","name":"reason","type":"string","indexed":false}],"type":"event","name":"TransactionBlocked","anonymous":false},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"accounts","outputs":[{"internalType":"address","name":"evaluator","type":"address"},{"internalType":"bool","name":"frozen","type":"bool"},{"internalType":"bool","name":"initialized","type":"bool"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function","name":"checkSpendingLimit","outputs":[{"internalType":"bool","name":"withinLimits","type":"bool"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"freeze"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"getEvaluator","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"evaluator","type":"address"},{"internalType":"uint256","name":"ethMaxPerTx","type":"uint256"},{"internalType":"uint256","name":"ethMaxPerDay","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"isFrozen","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"isInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"newEvaluator","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setEvaluator"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"maxPerTx","type":"uint256"},{"internalType":"uint256","name":"maxPerDay","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setSpendingLimit"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"spendingLimits","outputs":[{"internalType":"uint256","name":"maxPerTx","type":"uint256"},{"internalType":"uint256","name":"maxPerDay","type":"uint256"},{"internalType":"uint256","name":"spentToday","type":"uint256"},{"internalType":"uint256","name":"lastResetDay","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"unfreeze"},{"inputs":[{"internalType":"struct PackedUserOperation","name":"userOp","type":"tuple","components":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"initCode","type":"bytes"},{"internalType":"bytes","name":"callData","type":"bytes"},{"internalType":"bytes32","name":"accountGasLimits","type":"bytes32"},{"internalType":"uint256","name":"preVerificationGas","type":"uint256"},{"internalType":"bytes32","name":"gasFees","type":"bytes32"},{"internalType":"bytes","name":"paymasterAndData","type":"bytes"},{"internalType":"bytes","name":"signature","type":"bytes"}]},{"internalType":"bytes32","name":"userOpHash","type":"bytes32"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"validateUserOp","outputs":[{"internalType":"uint256","name":"validationData","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"checkSpendingLimit(address,address,uint256)":{"params":{"account":"The smart account","amount":"Transaction amount","token":"Token address (address(0) for ETH)"},"returns":{"withinLimits":"Whether the amount is within limits"}},"freeze()":{"details":"Can only be called by the account itself (via a previous UserOp)."},"initialize(address,uint256,uint256)":{"params":{"ethMaxPerDay":"Maximum ETH per day (wei)","ethMaxPerTx":"Maximum ETH per transaction (wei)","evaluator":"Address of the Wardex evaluator (signs approval tokens)"}},"setEvaluator(address)":{"params":{"newEvaluator":"New evaluator address"}},"setSpendingLimit(address,uint256,uint256)":{"params":{"maxPerDay":"Maximum per day","maxPerTx":"Maximum per transaction","token":"Token address (address(0) for ETH)"}},"validateUserOp((address,uint256,bytes,bytes,bytes32,uint256,bytes32,bytes,bytes),bytes32,uint256)":{"details":"Checks:      1. Account is not frozen      2. UserOp signature contains a valid Wardex approval      3. Transaction value is within spending limits","params":{"userOp":"The UserOperation to validate","userOpHash":"Hash of the UserOperation (for signature verification)"},"returns":{"validationData":"0 if valid, 1 if invalid (per ERC-4337 spec)"}}},"version":1},"userdoc":{"kind":"user","methods":{"accounts(address)":{"notice":"Configuration per smart account"},"checkSpendingLimit(address,address,uint256)":{"notice":"Check if a transaction value is within spending limits."},"freeze()":{"notice":"Freeze the account - blocks ALL transactions."},"getEvaluator(address)":{"notice":"Get the evaluator address for an account."},"initialize(address,uint256,uint256)":{"notice":"Initialize Wardex protection for a smart account."},"isFrozen(address)":{"notice":"Check if an account is frozen."},"isInitialized(address)":{"notice":"Check if an account is initialized with Wardex."},"setEvaluator(address)":{"notice":"Update the Wardex evaluator address."},"setSpendingLimit(address,uint256,uint256)":{"notice":"Set spending limits for a specific token."},"spendingLimits(address,address)":{"notice":"Spending limits per account per token (address(0) = ETH)"},"unfreeze()":{"notice":"Unfreeze the account - resumes normal operation."},"validateUserOp((address,uint256,bytes,bytes,bytes32,uint256,bytes32,bytes,bytes),bytes32,uint256)":{"notice":"Validates a UserOperation for the EntryPoint."}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/WardexValidationModule.sol":"WardexValidationModule"},"evmVersion":"cancun","libraries":{}},"sources":{"src/WardexValidationModule.sol":{"keccak256":"0xfa6259bcf97a6c858bfa8e5390d9de9e96418fd04f57fe0549e162b65276afcd","urls":["bzz-raw://730bcf793bf8c3d7285446dcddd17e1c9f558cd724755eceecfe2fccdec0b49d","dweb:/ipfs/QmPA6skM7LFgiG5bz4aqzg4GY5gDsqWFDrU8WF1YJAjUyw"],"license":"MIT"}},"version":1},"id":19}